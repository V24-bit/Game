<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Geopolitical Game - Select Nation</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Crediti in basso a destra */
        .credit {
            position: fixed;
            right: 20px;
            bottom: 10px;
            font-size: 14px;
            color: #444;
            background: rgba(255,255,255,0.7);
            border-radius: 8px 0 0 0;
            padding: 6px 12px;
            z-index: 100;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }
        /* Pulsanti centrali */
        .game-actions {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 18px;
            margin: 40px 0 20px 0;
        }
        .game-actions button {
            font-size: 1.1em;
            padding: 12px 30px;
            border-radius: 8px;
            border: none;
            background: #1976d2;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
            box-shadow: 0 2px 6px rgba(0,0,0,0.06);
        }
        .game-actions button:hover {
            background: #12529b;
        }
        .join-form {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }
        .join-form input[type="text"] {
            padding: 7px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-size: 1em;
        }
        .join-form button {
            padding: 7px 16px;
            font-size: 1em;
            border-radius: 5px;
            border: none;
            background: #43a047;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
        }
        .join-form button:hover {
            background: #2e7031;
        }
        .code-display {
            margin-top: 18px;
            font-size: 1.2em;
            font-weight: bold;
            color: #1976d2;
            letter-spacing: 2px;
            text-align: center;
        }
        @media (max-width: 600px) {
            .credit {
                font-size: 12px;
                padding: 5px 8px;
                right: 5px;
                bottom: 5px;
            }
            .game-actions button {
                font-size: 1em;
                padding: 10px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="language-select">
        <label for="language-menu">
            <img src="https://flagcdn.com/gb.svg" width="24" alt="English Flag" id="flag-current" style="vertical-align:middle; margin-right:5px;">
        </label>
        <select id="language-menu">
            <option value="en" data-flag="gb">&#127468;&#127463; English</option>
            <option value="it" data-flag="it">&#127470;&#127481; Italiano</option>
            <option value="es" data-flag="es">&#127466;&#127480; Español</option>
            <option value="fr" data-flag="fr">&#127467;&#127479; Français</option>
            <option value="de" data-flag="de">&#127465;&#127466; Deutsch</option>
        </select>
    </div>
    <div class="container">
        <h1 id="title">Geopolitical Game</h1>
        <div class="game-actions">
            <button id="create-game-btn">Crea partita</button>
            <button id="join-game-btn">Unisciti a partita</button>
            <form class="join-form" id="join-form">
                <input type="text" id="game-code-input" placeholder="Inserisci codice partita" maxlength="8" required>
                <button type="submit">Entra</button>
            </form>
            <div class="code-display" id="game-code-display" style="display:none;"></div>
        </div>

        <!-- (Puoi inserire qui il tuo form per la creazione della nazione come prima se vuoi) -->
        <form id="nation-form">
            <label for="nation-name" id="label-nation-name">Nome della Nazione:</label>
            <input type="text" id="nation-name" name="nation-name" required>

            <label for="government-type" id="label-government-type">Forma di Governo:</label>
            <select id="government-type" name="government-type" required>
                <option value="" id="option-select">Seleziona...</option>
                <option value="dictatorship" id="option-dictatorship">Dittatura</option>
                <option value="republic" id="option-republic">Repubblica</option>
                <option value="monarchy" id="option-monarchy">Monarchia</option>
                <option value="theocracy" id="option-theocracy">Teocrazia</option>
                <option value="anarchy" id="option-anarchy">Anarchia</option>
            </select>

            <button type="submit" id="confirm-btn">Conferma</button>
        </form>
        <div id="output"></div>
    </div>

    <div class="credit">
        Made by <a href="https://github.com/V24-bit" target="_blank">V24-bit</a>
    </div>

    <!-- FIREBASE -->
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyC-nxzpcf5I_NHkKbWbLXRFRRzQLv9ilWU",
        authDomain: "geopolitical-game-5f135.firebaseapp.com",
        databaseURL: "https://geopolitical-game-5f135-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "geopolitical-game-5f135",
        storageBucket: "geopolitical-game-5f135.appspot.com",
        messagingSenderId: "537294174901",
        appId: "1:537294174901:web:0c0eebedfd927cc8e65cfc"
      };
      firebase.initializeApp(firebaseConfig);
      const database = firebase.database();
    </script>

    <script src="main.js"></script>
    <script>
    // Logica base per mostrare/nascondere form e codici (puoi spostarla in main.js)
    const createBtn = document.getElementById('create-game-btn');
    const joinBtn = document.getElementById('join-game-btn');
    const joinForm = document.getElementById('join-form');
    const codeDisplay = document.getElementById('game-code-display');

    createBtn.addEventListener('click', function() {
        // Genera codice partita (es: 6 lettere/numero)
        const code = Math.random().toString(36).substr(2, 6).toUpperCase();
        codeDisplay.textContent = "Codice partita: " + code;
        codeDisplay.style.display = "block";
        joinForm.style.display = "none";
        // Qui puoi salvare il codice su Firebase se vuoi
        // database.ref("games/" + code).set({ createdAt: Date.now() });
    });

    joinBtn.addEventListener('click', function() {
        joinForm.style.display = "flex";
        codeDisplay.style.display = "none";
    });

    joinForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const code = document.getElementById('game-code-input').value.trim().toUpperCase();
        // Qui puoi verificare su Firebase se il codice esiste e unire l'utente
        // database.ref("games/" + code).once("value").then(snapshot => { ... });
        alert('Hai provato a unirti alla partita con codice: ' + code);
    });
    </script>
</body>
</html>
